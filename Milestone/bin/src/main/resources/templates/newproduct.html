<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="layouts/defaultTemplate"
        lang="en"
>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>New Product</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
<div layout:fragment="content">
  <div class="mb-3">
    <div class="container">
      <div class="row">
        <div class="col"></div>
        <div class="col">
          <main class="w-100 m-auto">
            <form action="#" th:action="@{newProduct}" th:object="${productModel}" method="post">
              <h1 class="h3 mb-3 fw-normal">Create Product</h1>
              <div class="form-floating pb-2">
                <input type="text" th:field="*{title}" class="form-control" id="floatingTitle" placeholder="Title">
                <label for="floatingTitle">Title</label>
                <div class="alert alert-danger mt-2" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></div>
              </div>
              <div class="form-floating pb-2">
                <input type="text" th:field="*{artist}" class="form-control" id="floatingArtist" placeholder="Aritis">
                <label for="floatingArtist">Artist</label>
                <div class="alert alert-danger mt-2" th:if="${#fields.hasErrors('artist')}" th:errors="*{artist}"></div>
              </div>
              <div class="form-floating pb-2">
                <input type="text" th:field="*{year}" class="form-control" id="floatingYear" placeholder="Year">
                <label for="floatingYear">Year</label>
                <div class="alert alert-danger mt-2" th:if="${#fields.hasErrors('year')}" th:errors="*{year}"></div>
              </div>
              <div class="form-floating pb-2">
                <input type="url" th:field="*{imagePath}" class="form-control" id="floatingPath" placeholder="Image Path">
                <label for="floatingPath">Image Path</label>
                <div class="alert alert-danger mt-2" th:if="${#fields.hasErrors('imagePath')}" th:errors="*{imagePath}"></div>
              </div>
              <div class="form-floating pb-2">
                <input type="text" th:field="*{description}" class="form-control" id="floatingDesc" placeholder="Description">
                <label for="floatingDesc">Description</label>
                <div class="alert alert-danger mt-2" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></div>
              </div>
			  <select class="form-select form-select-sm form-floating pb-2" th:field="*{genreID}" aria-label=".form-select-sm example" required>
				<option value="-1" selected>Select a Genre</option>
				<option value="1">Rock</option>
				<option value="2">Classical</option>
				<option value="3">Pop</option>
				<option value="4">Hip-Hop / Rap</option>
				<option value="5">Jazz</option>
				<option value="6">Country</option>
				<option value="7">R&B</option>
				<option value="8">Blues</option>
				<option value="9">Electronic</option>
				<option value="12">Indie</option>
			  </select>
              <div class="alert alert-danger mt-2" th:if="${#fields.hasErrors('genreID')}" th:errors="*{genreID}"></div>
			
              <div class="form-floating pb-2">
                <input type="number" step="0.01" th:field="*{price}" class="form-control" id="floatingPrice" placeholder="Price">
                <label for="floatingPrice">Price</label>
                <div class="alert alert-danger mt-2" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></div>
              </div>
              <button class="btn btn-primary w-100 py-2" type="submit">Create Product</button>
            </form>
          </main>
        </div>
        <!-- Add this block to display any error -->
<div class="alert alert-danger" th:if="${error}">
    <p th:text="${error}"></p>
</div>

        <div class="col"></div>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>